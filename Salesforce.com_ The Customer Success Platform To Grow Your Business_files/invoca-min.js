if("undefined"==typeof Invoca){var Invoca={}}"undefined"==typeof Invoca.log&&(Invoca.log=function(a,b){"undefined"!=typeof console&&(b&&"undefined"!=typeof console.error?console.error(a):this.debugMode&&"undefined"!=typeof console.log&&console.log(a))}),"undefined"==typeof Invoca.now&&(Invoca.now=function(){return(new Date).getTime()}),Invoca.getCurrentLocation=function(){return window.location.toString()},Invoca.countHash=function(b){var c=0;for(var a in b){b.hasOwnProperty(a)&&(c+=1)}return c};Invoca.AdvertiserIntegration={URL:"//json3.ringrevenue.com/3/map_number",TEST_DOMAIN:"invoca.net",TEST_NUMBER:"9999999999",HUBSPOT_USER_TOKEN_COOKIE_NAME:"hubspotutk"};Invoca.AdvertiserIntegration.loaded=false;!function(Invoca){function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,o,r,a,i,l=gap,c=t[e];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(e)),"function"==typeof rep&&(c=rep.call(t,e,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c){return"null"}if(gap+=indent,i=[],"[object Array]"===Object.prototype.toString.apply(c)){for(a=c.length,n=0;a>n;n+=1){i[n]=str(n,c)||"null"}return r=0===i.length?"[]":gap?"[\n"+gap+i.join(",\n"+gap)+"\n"+l+"]":"["+i.join(",")+"]",gap=l,r}if(rep&&"object"==typeof rep){for(a=rep.length,n=0;a>n;n+=1){"string"==typeof rep[n]&&(o=rep[n],r=str(o,c),r&&i.push(quote(o)+(gap?": ":":")+r))}}else{for(o in c){Object.prototype.hasOwnProperty.call(c,o)&&(r=str(o,c),r&&i.push(quote(o)+(gap?": ":":")+r))}}return r=0===i.length?"{}":gap?"{\n"+gap+i.join(",\n"+gap)+"\n"+l+"}":"{"+i.join(",")+"}",gap=l,r}}Invoca.JSON=window.JSON||{},"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof Invoca.JSON.stringify&&(Invoca.JSON.stringify=function(e,t,n){var o;if(gap="",indent="","number"==typeof n){for(o=0;n>o;o+=1){indent+=" "}}else{"string"==typeof n&&(indent=n)}if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length)){throw new Error("JSON.stringify")}return str("",{"":e})}),"function"!=typeof Invoca.JSON.parse&&(Invoca.JSON.parse=function(text,reviver){function walk(e,t){var n,o,r=e[t];if(r&&"object"==typeof r){for(n in r){Object.prototype.hasOwnProperty.call(r,n)&&(o=walk(r,n),void 0!==o?r[n]=o:delete r[n])}}return reviver.call(e,t,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j}throw new SyntaxError("JSON.parse")})}(Invoca),function(b){function a(c){return(c||"").replace(/^\s+|\s+$/g,"")}b.cookie=function(q,j,h){if("undefined"!=typeof j){h=h||{},null===j&&(j="",h.expires=-1);var g="";if(h.expires&&("number"==typeof h.expires||h.expires.toUTCString)){var w;"number"==typeof h.expires?(w=new Date,w.setTime(w.getTime()+1000*60*60*24*h.expires)):w=h.expires,g="; expires="+w.toUTCString()}var m=h.path?"; path="+h.path:"",k=h.domain?"; domain="+h.domain:"",v=h.secure?"; secure":"";return document.cookie=[q,"=",encodeURIComponent(j),g,m,k,v].join(""),null}var y=null;if(document.cookie&&""!=document.cookie){for(var x=document.cookie.split(";"),t=0;t<x.length;t++){var p=a(x[t]);if(p.substring(0,q.length+1)==q+"="){y=decodeURIComponent(p.substring(q.length+1));break}}}return y}}(Invoca),function(b){var a,d,c=this;b.JSONP=b.JSONP||{},b.JSONP.counter=0,b.JSONP.load=function(f){var h=document.createElement("script"),g=!1;h.src=f,h.async=!0,h.onload=h.onreadystatechange=function(){g||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(g=!0,h.onload=h.onreadystatechange=null,h&&h.parentNode&&h.parentNode.removeChild(h))},a||(a=document.getElementsByTagName("head")[0]),a.appendChild(h)},b.JSONP.requestWithLandingPage=function(h,k,f,g,e,m){var j=!1;return e&&-1!=e.search(/%ESCAPED_URL%/)&&(j=!0),{get:function(){var i="json_rr"+ ++b.JSONP.counter;return c[i]=function(l){m(l);try{delete c[i]}catch(o){}c[i]=null},k.jsoncallback=i,b.JSONP.load(this.encodeUrl(),m),i},encodeUrl:function(){var i=-1==h.search(/\?/)?"?":"&";for(d in k){k.hasOwnProperty(d)&&(i+=encodeURIComponent(d)+"="+encodeURIComponent(k[d])+"&")}return h=this.encodeVal(h+i,j?1:0),h+=f+this.encodeVal("=",j?1:0)+this.buildLandingPageUrl(),e?j?e.replace(/%ESCAPED_URL%/,h):e.replace(/%UNESCAPED_URL%/,h):h},buildLandingPageUrl:function(){var s=Invoca.getCurrentLocation(),p="",u="";if(g){p=-1==s.search(/\?/)?"?":"&";for(d in g){if(g.hasOwnProperty(d)){var q,n,i=g[d];"object"==typeof i?(q="undefined"==typeof i.escape||i.escape,n=i.value):(q=!0,n=i.toString()),u+=this.encodeVal(d,j?3:2)+this.encodeVal("=",j?2:1)+(q?this.encodeVal(n,j?3:2):n)+this.encodeVal("&",j?2:1)}}u=u.replace(j?/(%2526)$/:/(%26)$/,"")}return this.encodeVal(s+p,j?2:1)+u},encodeVal:function(l,i){for(var q=l,p=0;i>p;++p){q=encodeURIComponent(q)}return q}}}}(Invoca),function(j){function p(){if(!g&&(g=!0,k)){for(var a=0;a<k.length;a++){k[a].call(document,j)}k=[]}}function f(){if(!h){if(h=!0,document.readyState&&"complete"===document.readyState||"loaded"===document.readyState){return g=!0,void 0}document.addEventListener?document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!1),p()},!1):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",arguments.callee),p())}),document.documentElement.doScroll&&window==window.top&&function(){if(!g){try{document.documentElement.doScroll("left")}catch(c){return setTimeout(arguments.callee,0),void 0}p()}}());var a=window.onload;window.onload=function(){"function"==typeof a&&a(),p()}}}function d(){j.DOM.support={};var a=document.createElement("div");a.style.width=a.style.paddingLeft="1px",document.body.appendChild(a),j.DOM.support.boxModel=2===a.offsetWidth,document.body.removeChild(a).style.display="none"}function b(c,a,l){var i;return i=document.getElementsByClassName?function(x,A,u){u=u||document;for(var s,q=u.getElementsByClassName(x),z=A?new RegExp("\\b"+A+"\\b","i"):null,w=[],v=0,y=q.length;y>v;v+=1){s=q[v],(!z||z.test(s.nodeName))&&w.push(s)}return w}:document.evaluate?function(A,F,w){F=F||"*",w=w||document;for(var v,q,D=A.split(" "),y="",x="http://www.w3.org/1999/xhtml",C=document.documentElement.namespaceURI===x?x:null,G=[],E=0,B=D.length;B>E;E+=1){y+="[contains(concat(' ', @class, ' '), ' "+D[E]+" ')]"}try{v=document.evaluate(".//"+F+y,w,C,0,null)}catch(z){v=document.evaluate(".//"+F+y,w,null,0,null)}for(;q=v.iterateNext();){G.push(q)}return G}:function(C,H,x){H=H||"*",x=x||document;for(var w,q,F=C.split(" "),z=[],y="*"===H&&x.all?x.all:x.getElementsByTagName(H),E=[],I=0,G=F.length;G>I;I+=1){z.push(new RegExp("(^|\\s)"+F[I]+"(\\s|$)"))}for(var D=0,B=y.length;B>D;D+=1){w=y[D],q=!1;for(var v=0,A=z.length;A>v&&(q=z[v].test(w.className),q);v+=1){}q&&E.push(w)}return E},i(c,a,l)}function m(a){return(a||"").replace(/^\s+|\s+$/g,"")}var h=!1,g=!1,k=[];j.onReady=function(a){return f(),g?a.call(document,j):k.push(a),this},j.DOM={support:{}},j.onReady(d),j.DOM.show=function(a){for(var i=j.DOM.selectElements(a),e=0,c=i.length;c>e;e++){i[e].style.display=""}},j.DOM.hide=function(e,q){for(var l=j.DOM.selectElements(e),i=0,c=l.length;c>i;i++){q?l[i].style.visibility="hidden":l[i].style.display="none"}},j.DOM.setHTML=function(s,w,v){if(void 0!==s){for(var u=j.DOM.selectElements(w,v),e=0,q=u.length;q>e;e++){try{u[e].innerHTML=s}catch(c){j.log("Could not set HTML of element type "+u[e].nodeName+" from selector "+w+". Error: "+c.message,!0)}}}},j.DOM.getHTML=function(a,e){var c=j.DOM.selectElements(a,e);return c.length>0?c[0].innerHTML:""},j.DOM.addClass=function(u,y,w){for(var v=j.DOM.selectElements(y,w),q=0,s=v.length;s>q;q++){try{var e=v[q].className;v[q].className=e?e+" "+u:u}catch(x){j.log("Could not add class "+u+" to "+v[q].nodeName+" from selector "+y+". Error: "+x.toString(),!0)}}},j.DOM.addCss=function(l,u,s){for(var q=j.DOM.selectElements(u,s),c=0,e=q.length;e>c;c++){j.DOM.addCssToElement(q[c],l)}},j.DOM.addCssToElement=function(a,i){try{for(var e in i){a.style[e]=i[e]}}catch(c){j.log("Could not add css styles "+i+" to "+a.nodeName+". Error: "+c.toString(),!0)}},j.DOM.selectElements=function(C,q){for(var e,w,v=C.split(","),A=[],D=void 0,B=0,z=v.length;z>B;B++){if(w=m(v[B]),w.indexOf(".")>-1&&w.indexOf("#")>-1){j.log("Selector not supported: '"+w+"'. Can not combine ID and class in a single selector.",!0)}else{if(w.indexOf(".")>-1){A=A.concat(b(w.replace(/\./g,""),D,q))}else{if(!(w.indexOf("#")>-1)){j.log("Selector not supported: '"+w+"'. Specify an ID or class using '#' or '.' respectively.",!0);continue}(e=document.getElementById(w.replace("#","")))&&A.push(e)}}}if(v.length>1){for(var y=[],a=0;a<A.length;a++){for(var x=!1,r=0;r<y.length;r++){x||y[r]!=A[a]||(x=!0)}x||y.push(A[a])}return y}return A},j.DOM.filterElementsByClass=function(c,a){for(var l=[],i=0;i<c.length;i++){new RegExp("(^|\\s)"+a+"(\\s|$)").test(c[i].className)&&l.push(c[i])}return l},j.DOM.selectTags=function(a){return document.getElementsByTagName(a)},j.DOM.Event={},j.DOM.Event.add=function(){return window.addEventListener?function(c,a,i){c.addEventListener(a,i,!1)}:window.attachEvent?function(c,a,l){var i=function(){l.call(c,window.event)};c.attachEvent("on"+a,i)}:function(c,a,i){c["on"+a]=i}}(),j.DOM.Event.remove=function(){return window.removeEventListener?function(c,a,i){c.removeEventListener(a,i,!1)}:function(){}}()}(Invoca),function(f){function c(n,j,m){var e,q,o=[],k=h(j),p=d(m);if(k){if(n.global){for(;e=n.exec(k);){if(!e[0]){throw"findAndReplaceDOMText cannot handle zero-length matches"}o.push([n.lastIndex-e[0].length,n.lastIndex,e])}}else{if(e=k.match(n),q=k.indexOf(e[0]),!e[0]){throw"findAndReplaceDOMText cannot handle zero-length matches"}o.push([q,q+e[0].length,e])}f.log("Matches found: "+o.length),o.length&&g(j,o,p)}}function h(i){if(3===i.nodeType){return i.data}var a="";if(i=i.firstChild){do{a+=h(i)}while(i=i.nextSibling)}return a}function g(B,m,k){var e,z,v,q,y=[],C=0,A=B,x=m.shift(),w=0,j=f.now()+2000;f:for(;;){if(f.now()>j){f.log("Advertiser Integration Error: Could not finish iterating through DOM to replace numbers. Likely you have an invalid DOM structure, or perhaps unclosed tags.",!0);break}if(3===A.nodeType&&(!z&&A.length+C>=x[1]?(z=A,q=x[1]-C):e&&y.push(A),!e&&A.length+C>x[0]&&(e=A,v=x[0]-C),C+=A.length),e&&z){if(A=k({startNode:e,startNodeIndex:v,endNode:z,endNodeIndex:q,innerNodes:y,match:x[2],matchIndex:w}),C-=z.length-q,e=null,z=null,y=[],x=m.shift(),w++,!x){break}}else{if(A.firstChild||A.nextSibling){A=A.firstChild||A.nextSibling;continue}}for(;;){if(A.nextSibling){A=A.nextSibling;break}if(A.parentNode===B){break f}if(f.now()>j){break}A=A.parentNode}}}function d(i){b=[];var a;if("function"!=typeof i){var j=i.nodeType?i:document.createElement(i);a=function(l){var k,m=document.createElement("div");return m.innerHTML=j.outerHTML||(new XMLSerializer).serializeToString(j),k=m.firstChild,l&&k.appendChild(document.createTextNode(l)),k}}else{a=i}return function(C){var w=C.startNode,t=C.endNode,k=C.matchIndex;if(w===t){var z=w;if(C.startNodeIndex>0){var y=document.createTextNode(z.data.substring(0,C.startNodeIndex));z.parentNode.insertBefore(y,z)}var E=a(C.match[0],k);if(z.parentNode.insertBefore(E,z),C.endNodeIndex<z.length){var H=document.createTextNode(z.data.substring(C.endNodeIndex));z.parentNode.insertBefore(H,z)}return z.parentNode.removeChild(z),b.push(function(){var l=E.parentNode;l.insertBefore(E.firstChild,E),l.removeChild(E),l.normalize()}),E}for(var y=document.createTextNode(w.data.substring(0,C.startNodeIndex)),H=document.createTextNode(t.data.substring(C.endNodeIndex)),G=a(w.data.substring(C.startNodeIndex),k),D=[],B=0,q=C.innerNodes.length;q>B;++B){var A=C.innerNodes[B],x=a(A.data,k);A.parentNode.replaceChild(x,A),D.push(x)}var F=a(t.data.substring(0,C.endNodeIndex),k);return w.parentNode.insertBefore(y,w),w.parentNode.insertBefore(G,w),w.parentNode.removeChild(w),t.parentNode.insertBefore(F,t),t.parentNode.insertBefore(H,t),t.parentNode.removeChild(t),b.push(function(){D.unshift(G),D.push(F);for(var m=0,l=D.length;l>m;++m){var r=D[m],p=r.parentNode;p.insertBefore(r.firstChild,r),p.removeChild(r),p.normalize()}}),F}}var b;c.revert=function(){for(var i=0,a=b.length;a>i;++i){b[i]()}b=[]},f.DOM.findAndReplaceText=c}(Invoca),function(f){function c(i){var a=/[^\d]/g,j=i.replace(a,"");return j}var h="-",g=" ",d="1",b="0";f.NANP_COUNTRY_CODE=d,f.PhoneNumber=function(k,j){var r=c(j?k:""),v=c(j?j:k),t=j?j:k;if(!r){if(11==v.length&&v.charAt(0)==d){r=d,v=v.substr(1)}else{if(10==v.length&&v.charAt(0)!=b){r=d}else{if("+"==k.charAt(0)||"0"==k.charAt(0)){var q=/[\+|0]([\d]{1,2})[^\d]/g,o=k.match(q);if(o){var a=o[0].replace(/^\s+|\s+$/g,"");r=a.substr(1),v=v.substr(r.length)}else{f.log("When prefixing a number with + or 0, include a non digit character after the country code")}}}}}r==d&&10!=v.length&&f.log("Invalid number: "+r+", "+t,!0),this.format=function(z,x,y){var p;if(this.isNANP()){p=y||h;var w=v.slice(0,3),m=v.slice(3,6),s=v.slice(6),A=w+p+m+p+s;return z&&(A="1"+p+A),A}return p=y||g,(x&&r?"+"+r+p:"")+v},this.formatFromOriginal=function(w,u){var p="",s=/[\s-]/g,m="";return this.isNANP()?(p=u||h,m=t.replace(s,p),w&&"+"!=m.charAt(0)&&(m=d+p+m)):(p=u||g,m=t.replace(s,p)),m},this.isNANP=function(){return r==d},this.isEmpty=function(){return !v},this.toParam=function(){return r==d?v:"00"+r+v},this.toString=function(){return this.format(!0)},this.countryCode=r,this.nationalNumber=v;var n="([^0-9]{0,10})",e="([([])?";this.to_replacement_regex=function(){var l="";"0"==v.charAt(0)?l+="([([]?0[^0-9]{0,10})?"+e:l="(1[^0-9]{0,10})?"+e+v.charAt(0)+n;for(var i=1;i<v.length;i++){l+=i==v.length-1?v.charAt(i):v.charAt(i)+n}return new RegExp(l,"gi")},this.formatFromOther=function(p,l){var u=l.to_replacement_regex().exec(p);if(null==u){return p}for(var s="",m="0"==v.charAt(0)?1:0,i=1;i<=u.length+1;i++){"undefined"!=typeof u[i]&&(s+=u[i]),i>1&&(s+=v.charAt(m),m++)}return s}}}(Invoca),function(f){function c(j){var m=f.DOM.selectElements("#"+d);m.length>0&&f.ModalIframe.updateIframeSrc(m[0],j);var e=f.DOM.selectTags("body")[0];if(f.ModalIframe.isIE6||!f.DOM.support.boxModel){var a=f.DOM.selectElements(b)[0];a&&(a.style.setExpression&&a.style.setExpression("top","(document.documentElement.scrollTop || document.body.scrollTop) + Math.round(17 * (document.documentElement.offsetHeight || document.body.clientHeight) / 100) + 'px'"),f.DOM.addCssToElement(a,{position:"absolute",zIndex:99}))}else{var k=document.createElement("div");k.setAttribute("id",g),f.DOM.addCssToElement(k,{height:"100%",width:"100%",position:"fixed",left:"0px",top:"0px",zIndex:"2999",opacity:".3",filter:"alpha(opacity = 50)",backgroundColor:"#000"}),k.innerHTML="",e.insertBefore(k,e.firstChild),f.DOM.addCss({zIndex:"3000"},b)}f.DOM.show(b)}var h="rr_modalWindow",g="rr_modalWindowOverlay",d="rr_modalIframe",b="#"+h;f.ModalIframe={},f.ModalIframe.isIE6=navigator.userAgent.toLowerCase().match(/msie 6/),f.ModalIframe.isIE7=navigator.userAgent.toLowerCase().match(/msie 7/),f.ModalIframe.insert=function(p,j,a,q){if(0==f.DOM.selectElements(b).length){var k=f.DOM.selectTags("body")[0],e=document.createElement("div");e.setAttribute("id",h),f.DOM.addCssToElement(e,{display:"none",position:"fixed",top:"17%",left:"50%",marginLeft:(0-a/2).toString()+"px",width:a.toString()+"px",height:q.toString()+"px",backgroundColor:"#EEE",color:"#333",border:"1px solid black",padding:"12px"}),e.innerHTML='<div style="float: right; color: #000099; font-size: 11px; cursor: pointer; font-weight: bold; font-family: Arial" onfocus="this.blur();" onclick="Invoca.ModalIframe.closeModal();">close</div><div style="float: left; font-weight: bold; font-size: 13px; font-family: Arial; margin-bottom: 5px">Call Now</div></div>'+(f.DOM.support.boxModel?"":"<br /><br />")+'<iframe id="'+d+'" style="'+(f.DOM.support.boxModel||!f.ModalIframe.isIE6&&!f.ModalIframe.isIE7?"width:100%":"width:94%")+'; height:280px; border: none" border="0" src=""></iframe>',k.appendChild(e)}for(var n=f.DOM.selectElements(p),m=0;m<n.length;m++){f.DOM.Event.add(n[m],"click",function(){c(j)})}},f.ModalIframe.closeModal=function(){f.DOM.hide(b);var a=f.DOM.selectElements("#"+g)[0];a&&a.parentNode.removeChild(a)},f.ModalIframe.updateIframeSrc=function(i,a){i.setAttribute("src",a)}}(Invoca),function(a){a.Hubspot=function(){function k(c){try{a.log("Hubspot: adding our callback to hubspot API"),clearTimeout(g.polling_timeout),g.callback_timeout=setTimeout(function(){a.log("Running based on callback timeout"),h.apply(m,[f])},j),c.push(function(l){try{a.log("Hubspot: callback triggered"),a.log(l),f[a.AdvertiserIntegration.HUBSPOT_USER_TOKEN_COOKIE_NAME]=l.utk.visitor}catch(o){a.log(o.toString())}clearTimeout(g.callback_timeout),h.apply(m,[f])})}catch(i){a.log(i.toString()),clearTimeout(g.callback_timeout),h.apply(m,[f])}}function e(){a.log("Polling..."),"undefined"!=typeof window._hsq&&(clearInterval(g.polling),k(window._hsq))}var d=5000,b=500,j=30000,g={},f={},h=null,m=null;this.isInstalled=function(){if(a.log("Hubspot: checking if tracking code exists..."),"undefined"!=typeof window._hsq){return !0}for(var c=document.getElementsByTagName("script"),i=0;i<c.length;i++){if(-1!=c[i].src.search(/hubspot\.com/)){return !0}}return !1},this.getUserTokenAndFireCallback=function(i,c){h=i,m=c,a.log("Hubspot: tracking code detected. Looking for user token..."),g.polling_timeout=setTimeout(function(){clearInterval(g.polling),a.log("Running based on polling timeout"),h.apply(m,[f])},d),g.polling=setInterval(e,b),e()}}}(Invoca),Invoca.AdvertiserIntegration.COOKIE_NAME_PREFIX="rrCookie_affiliateInfo",Invoca.AdvertiserIntegration.COOKIE_CACHE_LIFETIME=86400000,Invoca.AdvertiserIntegration.COOKIE_POLLING_RATE=100,Invoca.AdvertiserIntegration.init=function(aR){function aC(b,a){return"undefined"==typeof b?a:b}function aI(b){var a=Invoca.cookie(b),d=null;if(a){try{d=Invoca.JSON.parse(a)}catch(c){Invoca.log("Could not parse cookie: '"+b+"', value: '"+a+"', error: "+c.toString(),!0)}}return d}function aH(b){Invoca.log("Inserting CTC...");var a=ah||".rr_number_to_replace_node";ac?(aL&&aE(aB(b),b,a),Invoca.log("in button mode. Adding button to: '"+a+"'"),Invoca.DOM.setHTML(aq||'<button type="button">Call Now!</button>',a),Invoca.DOM.addClass("click_to_call_button",a)):b&&(b.pn||b.pn_formatted)?aV(aB(b),b,a):aS(!0),Invoca.ModalIframe.insert(a,b.ctc.url,430,335)}function aE(g,d,j){var h=new Invoca.PhoneNumber(aL),f="+"+d.pn_country_code+"-"+g,b=new Invoca.PhoneNumber(f),c=function(n){var m=b.formatFromOther(n,h),k=document.createTextNode(m);if(b&&d.pn_national&&d.mobile&&ad){var a=document.createElement("a");a.href="tel:+"+d.pn_country_code+d.pn_national,a.appendChild(k),k=a,Invoca.log("Adding tel link around text: '"+m+"'")}if(void 0===j&&navigator.userAgent.match(/Trident.*rv[ :]*11\./)&&(j=".invoca_ie11_normalize_fix"),j){var o=document.createElement("span");return o.className=j.replace(/\./,""),o.appendChild(k),Invoca.log("Returning text in a span: '"+m+"'"),o}return Invoca.log("Returning text node: '"+m+"'"),k};Invoca.DOM.findAndReplaceText(h.to_replacement_regex(),document.body,c),document.body.normalize()}function aV(b,a,c){aL&&aE(b,a,c),ah&&(an=Invoca.DOM.getHTML(ah),b&&a.pn_national&&a.mobile&&ad&&(b='<a href="tel:+'+a.pn_country_code+a.pn_national+'">'+b+"</a>"),Invoca.DOM.setHTML(b,ah))}function aN(a){return a&&aL}function aK(b,a){if(!aN(a)){if(b){!aL&&b.number_to_replace&&(aL=b.number_to_replace);var c=aB(b);if(b.ctc){return aH(b),aT(a,!0,c),void 0}if(""!==c){return aV(c,b),aT(a,!1,c),void 0}}aS()}}function aT(b,a,d){if(ag&&!a&&ac&&(Invoca.log("Showing element: "+ag),Invoca.DOM.show(ag)),ap&&(Invoca.log("Hiding element: "+ap),Invoca.DOM.hide(ap,!1)),aW&&(Invoca.log("Setting element to invisible: "+aW),Invoca.DOM.hide(aW,!0)),!b&&"function"==typeof ay){Invoca.log("Calling onLoadWithNumber callback");try{ay.apply(this,[a,d])}catch(c){Invoca.log("Error in onLoadWithNumber callback method: "+c.message,!0)}}}function aD(){if("function"==typeof ai){Invoca.log("Calling onLoadNoNumber callback");try{ai.apply(this)}catch(a){Invoca.log("Error in onLoadNoNumber callback method: "+a.message,!0)}}}function aB(a){return a.pn_formatted?new Invoca.PhoneNumber(a.pn_country_code,a.pn_formatted).formatFromOriginal(ar,au):a.pn?new Invoca.PhoneNumber(a.pn).format(ar,!1,au):""}function aS(a){null!==an&&ah&&(Invoca.log("Restoring original content."),Invoca.DOM.setHTML(an,ah)),a||aD()}function aQ(c){for(var a={},f=0;f<c.length;f++){var d=c[f],b=Invoca.cookie(d);null!=b&&(a[d]=b)}return a}function aG(b){if(b.error&&Invoca.log("Error from server: "+b.error),b.settings&&"invalid"!=b.settings.status){if(Invoca.log("Full server response: "+Invoca.JSON.stringify(b)),b.dynamic_number_pool_cookies){var a=b.dynamic_number_pool_cookies.delay,d=!1,c=function(){var h=(new Date).getTime()-aa,f=a-h,g=aQ(b.dynamic_number_pool_cookies.names);if(0>=f){aO(g)}else{var e=Invoca.countHash(g);e==b.dynamic_number_pool_cookies.names.length&&(d=!0),d?aO(g):setTimeout(function(){c()},Invoca.AdvertiserIntegration.COOKIE_POLLING_RATE)}};setTimeout(c,0)}else{aK(b.settings)}}else{aS()}ab||b.test_mode||!b.settings||(b.settings.last_validated_at=Invoca.now(),Invoca.cookie(al,Invoca.JSON.stringify(b.settings),{expires:b.integration_cookie_life,domain:b.domain,path:"/"}))}function aP(b){var a=at?at.status:null,c=Invoca.now();return at&&Invoca.log("Read "+al+" cookie at "+c+": "+Invoca.JSON.stringify(at)),(!a||"invalid"==a&&!b.isEmpty()||aJ(b)||at&&at.last_validated_at<c-Invoca.AdvertiserIntegration.COOKIE_CACHE_LIFETIME)&&(a="unknown"),a}function aJ(a){return at&&!a.isEmpty()&&at.pn!=a.toParam()&&at.validated_pn!=a.toParam()}function aA(b,a){b.isEmpty()||aN(a)||(b.isNANP()?(Invoca.log("Setting initial number from query param: "+b.toParam()),aV(b.format(ar,!1,au),{pn_country_code:Invoca.NANP_COUNTRY_CODE,pn_national:b.nationalNumber,mobile:at?at.mobile:!1})):Invoca.log("International number detected: "+b.toParam()))}function aO(c){var a={av_id:am,referer:aw,cookies_for_url:Invoca.JSON.stringify(c||{})};ax&&(a.advertiser_campaign_id=ax),aU&&(a.ring_pool_id=aU);var f=window.location.protocol+Invoca.AdvertiserIntegration.URL;null==c&&(a.request_cookies=!0);var d=new Invoca.JSONP.requestWithLandingPage(f,a,"url",af,aj,aG);if(ab){return Invoca.log("In test mode: skipping cookie"),d.get(),void 0}var b=aP(G);if("invalid"==b){return Invoca.log("Server found nothing last time. Aborting web integration for this session."),aD(),void 0}if(at){switch(a.cookie=Invoca.JSON.stringify(at),b){case"promo_number":case"ctc":case"advertiser_number":return Invoca.log("Valid state detected, using persistent data."),aK(at),void 0;case"unknown":return Invoca.log("Valid state detected, verifying data with server."),G.isEmpty()?(Invoca.log("Setting initial number with cached data."),aK(at,!0)):aA(G,!0),d.get(),void 0}return Invoca.log("Unknown state found ("+b+"). Aborting web integration for this session."),aD(),void 0}aA(G,!0),d.get()}var am=aR.id,aU=aR.ringPoolId,ax=aR.campaignId,ah=aC(aR.numberSelector,""),ag=aC(aR.showSelector,""),ap=aC(aR.hideSelector,""),aW=aC(aR.notVisibleSelector,""),ay=aC(aR.onLoadWithNumber,null),ai=aC(aR.onLoadNoNumber,null),az=aC(aR.networkParamName,"sid"),ar=aC(aR.numberLeadingOne,!0),ad=aC(aR.mobileClickToCall,!0),ac=aC(aR.ctcUseButton,!0),aq=aC(aR.ctcButtonContent,null),au=aC(aR.numberSeparator,null),aL=aC(aR.numberToReplace,null),aj=aC(aR.redirectUrl,null),af=aC(aR.poolParams,null),ae=aC(aR.cookieId,null),ab=!1,an=ah?Invoca.DOM.getHTML(ah):null,al=Invoca.AdvertiserIntegration.COOKIE_NAME_PREFIX+(ae?"_"+ae:""),at=aI(al),aM=Invoca.AdvertiserIntegration.getQueryStringHash(window.location.search),ao=aM.ppcpn,aw=Invoca.AdvertiserIntegration.getReferrer(),aF=aw.replace(/^https?\:\/\/([^\/]+)\/.*/,"$1"),aa=(new Date).getTime();if(Invoca.debugMode=aC(aR.debug,"1"==aM.rr_debug),"undefined"==typeof am||"YOUR_ID_HERE"==am){return Invoca.log("PayPerCall Web Integration: id must be set",!0),void 0}aL&&aL.replace(/[^\d]/g,"").length<=7&&(Invoca.log("numberToReplace format is invalid: '"+aL+"'",!0),aL=null);var av,Z,ak;ao&&(av=ao.split("_"),Z=av[0],ak=av[1]);var G=new Invoca.PhoneNumber(Z||aM[az.toLowerCase()]||aM.ppcan||""),Q=new Invoca.Hubspot;ab=ak||!G.isEmpty()&&G.toParam()==Invoca.AdvertiserIntegration.TEST_NUMBER||aF.match(new RegExp(Invoca.AdvertiserIntegration.TEST_DOMAIN+"$"))&&!aw.match(new RegExp(Invoca.AdvertiserIntegration.TEST_DOMAIN+"\\/?(index|corporate\\/|\\?|$)")),Q.isInstalled()?ab||"unknown"==aP(G)?Q.getUserTokenAndFireCallback(aO,this):aO(null):aO(null)},Invoca.AdvertiserIntegration.getQueryStringHash=function(c){for(var a={},f=c.substr(1).split("&"),d=0;d<f.length;++d){var b=f[d].split("=");a[b[0].toLowerCase()]=b[1]}return a},Invoca.AdvertiserIntegration.getReferrer=function(){return document.referrer};var PayPerCall={};PayPerCall.load=function(a){Invoca.advertiser_integration=a||{}};function setPayPerCallTarget(b,g,a,f,e,d,c){Invoca.advertiser_integration={id:g,numberSelector:b,numberSeparator:f,numberLeadingOne:e,ctcUseButton:d,networkParamName:a,jqueryNoConflict:false,debug:c}}Invoca.onReady(function(){var b=true;var a=3*1000;setTimeout(function(){b=false},a);function c(){if(!Invoca.AdvertiserIntegration.loaded&&b){if(Invoca.advertiser_integration){Invoca.AdvertiserIntegration.init(Invoca.advertiser_integration);Invoca.AdvertiserIntegration.loaded=true}else{setTimeout(c,50)}}}c()});var RingRevenue=Invoca;(function(){$(".tel, .phone").fadeIn("slow",function(){$(this).show()})})();